



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Dropwizard guice integration">
      
      
        <link rel="canonical" href="https://xvik.github.io/dropwizard-guicey/4.2.2/guide/bundles/">
      
      
        <meta name="author" content="Vyacheslav Rusakov">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-3.0.4">
    
    
      
        <title>Bundles (Guicey) - Dropwizard-guicey</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.451f80e5.css">
      
      
    
    
      <script src="../../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="../../#guicey-bundles" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://xvik.github.io/dropwizard-guicey/4.2.2" title="Dropwizard-guicey" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                Dropwizard-guicey
              </span>
              <span class="md-header-nav__topic">
                Bundles (Guicey)
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/xvik/dropwizard-guicey/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      dropwizard-guicey
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://xvik.github.io/dropwizard-guicey/4.2.2" title="Dropwizard-guicey" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    Dropwizard-guicey
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/xvik/dropwizard-guicey/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      dropwizard-guicey
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../getting-started/" title="Getting started" class="md-nav__link">
      Getting started
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../concepts/" title="Concepts overview" class="md-nav__link">
      Concepts overview
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4" checked>
    
    <label class="md-nav__link" for="nav-4">
      User guide
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        User guide
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../configuration/" title="Configuration" class="md-nav__link">
      Configuration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lifecycle/" title="Integration lifecycle" class="md-nav__link">
      Integration lifecycle
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../injector/" title="Injector" class="md-nav__link">
      Injector
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../module-autowiring/" title="Module autowiring" class="md-nav__link">
      Module autowiring
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../bindings/" title="Bindings" class="md-nav__link">
      Bindings
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../scan/" title="Classpath scan" class="md-nav__link">
      Classpath scan
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../installers/" title="Installers" class="md-nav__link">
      Installers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../ordering/" title="Ordering" class="md-nav__link">
      Ordering
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Bundles (Guicey)
      </label>
    
    <a href="./" title="Bundles (Guicey)" class="md-nav__link md-nav__link--active">
      Bundles (Guicey)
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#predefined-bundles" title="Predefined bundles" class="md-nav__link">
    Predefined bundles
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#core-installers-bundle" title="Core installers bundle" class="md-nav__link">
    Core installers bundle
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#web-installers-bundle" title="Web installers bundle" class="md-nav__link">
    Web installers bundle
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hk2-debug-bundle" title="HK2 debug bundle" class="md-nav__link">
    HK2 debug bundle
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#diagnostic-bundle" title="Diagnostic bundle" class="md-nav__link">
    Diagnostic bundle
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dropwizard-bundles-unification" title="Dropwizard bundles unification" class="md-nav__link">
    Dropwizard bundles unification
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bundle-lookup" title="Bundle lookup" class="md-nav__link">
    Bundle lookup
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#system-property-lookup" title="System property lookup" class="md-nav__link">
    System property lookup
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#service-loader-lookup" title="Service loader lookup" class="md-nav__link">
    Service loader lookup
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#customizing-lookup-mechanism" title="Customizing lookup mechanism" class="md-nav__link">
    Customizing lookup mechanism
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#options" title="Options" class="md-nav__link">
    Options
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#apply-modifications" title="Apply modifications" class="md-nav__link">
    Apply modifications
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuration-access" title="Configuration access" class="md-nav__link">
    Configuration access
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#unique-feature-config" title="Unique feature config" class="md-nav__link">
    Unique feature config
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#access-by-path" title="Access by path" class="md-nav__link">
    Access by path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multiple-configs" title="Multiple configs" class="md-nav__link">
    Multiple configs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#custom-configuration-analysis" title="Custom configuration analysis" class="md-nav__link">
    Custom configuration analysis
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../options/" title="Options" class="md-nav__link">
      Options
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../diagnostic/" title="Diagnostic" class="md-nav__link">
      Diagnostic
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../events/" title="Lifecycle events" class="md-nav__link">
      Lifecycle events
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../commands/" title="Commands" class="md-nav__link">
      Commands
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../web/" title="Web" class="md-nav__link">
      Web
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../test/" title="Test" class="md-nav__link">
      Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../dg-migration/" title="Migration from dropwizard-guice" class="md-nav__link">
      Migration from dropwizard-guice
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Installers
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Installers
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../installers/resource/" title="Resource" class="md-nav__link">
      Resource
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../installers/task/" title="Task" class="md-nav__link">
      Task
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../installers/managed/" title="Managed" class="md-nav__link">
      Managed
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../installers/lifecycle/" title="Lifecycle" class="md-nav__link">
      Lifecycle
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../installers/healthcheck/" title="Health check" class="md-nav__link">
      Health check
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../installers/jersey-ext/" title="Jersey extension" class="md-nav__link">
      Jersey extension
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../installers/jersey-feature/" title="Jersey feature" class="md-nav__link">
      Jersey feature
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../installers/eager/" title="Eager singleton" class="md-nav__link">
      Eager singleton
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../installers/plugin/" title="Plugin" class="md-nav__link">
      Plugin
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../installers/servlet/" title="Web servlet" class="md-nav__link">
      Web servlet
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../installers/filter/" title="Web filter" class="md-nav__link">
      Web filter
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../installers/listener/" title="Web listener" class="md-nav__link">
      Web listener
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Examples
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Examples
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../examples/authentication/" title="Authentication" class="md-nav__link">
      Authentication
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../examples/governator/" title="Governator" class="md-nav__link">
      Governator
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../examples/hibernate/" title="Hibernate" class="md-nav__link">
      Hibernate
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../examples/eventbus/" title="EventBus" class="md-nav__link">
      EventBus
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../examples/jdbi/" title="JDBI" class="md-nav__link">
      JDBI
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../examples/jdbi3/" title="JDBI3" class="md-nav__link">
      JDBI3
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Extras
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Extras
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../extras/admin-rest/" title="Admin REST" class="md-nav__link">
      Admin REST
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../extras/bom/" title="BOM" class="md-nav__link">
      BOM
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../extras/lifecycle-annotations/" title="Lifecycle annotations" class="md-nav__link">
      Lifecycle annotations
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../extras/eventbus/" title="Guava EventBus" class="md-nav__link">
      Guava EventBus
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../extras/jdbi/" title="JDBI" class="md-nav__link">
      JDBI
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../extras/jdbi3/" title="JDBI3" class="md-nav__link">
      JDBI3
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../extras/spa/" title="SPA" class="md-nav__link">
      SPA
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      About
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        About
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../about/compatibility/" title="Compatibility" class="md-nav__link">
      Compatibility
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../about/history/" title="Release notes" class="md-nav__link">
      Release notes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../about/support/" title="Support" class="md-nav__link">
      Support
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../about/license/" title="License" class="md-nav__link">
      License
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#predefined-bundles" title="Predefined bundles" class="md-nav__link">
    Predefined bundles
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#core-installers-bundle" title="Core installers bundle" class="md-nav__link">
    Core installers bundle
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#web-installers-bundle" title="Web installers bundle" class="md-nav__link">
    Web installers bundle
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hk2-debug-bundle" title="HK2 debug bundle" class="md-nav__link">
    HK2 debug bundle
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#diagnostic-bundle" title="Diagnostic bundle" class="md-nav__link">
    Diagnostic bundle
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dropwizard-bundles-unification" title="Dropwizard bundles unification" class="md-nav__link">
    Dropwizard bundles unification
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bundle-lookup" title="Bundle lookup" class="md-nav__link">
    Bundle lookup
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#system-property-lookup" title="System property lookup" class="md-nav__link">
    System property lookup
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#service-loader-lookup" title="Service loader lookup" class="md-nav__link">
    Service loader lookup
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#customizing-lookup-mechanism" title="Customizing lookup mechanism" class="md-nav__link">
    Customizing lookup mechanism
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#options" title="Options" class="md-nav__link">
    Options
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#apply-modifications" title="Apply modifications" class="md-nav__link">
    Apply modifications
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuration-access" title="Configuration access" class="md-nav__link">
    Configuration access
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#unique-feature-config" title="Unique feature config" class="md-nav__link">
    Unique feature config
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#access-by-path" title="Access by path" class="md-nav__link">
    Access by path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multiple-configs" title="Multiple configs" class="md-nav__link">
    Multiple configs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#custom-configuration-analysis" title="Custom configuration analysis" class="md-nav__link">
    Custom configuration analysis
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/xvik/dropwizard-guicey/edit/master/src/doc/docs/guide/bundles.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="guicey-bundles">Guicey bundles<a class="headerlink" href="#guicey-bundles" title="Permanent link">&para;</a></h1>
<p>By analogy with dropwizard bundles, guicey has it's own <code>GuiceyBundle</code>. These bundles contains almost the same options as 
main <code>GuiceBundle</code> builder. The main purpose is to group installers, extensions and guice modules related to specific 
feature.</p>
<p>Guicey bundles are initialized during dropwizard <code>run</code> phase. All guice modules registered in bundles will also be checked 
for required <a href="../module-autowiring/">dropwizard objects autowiring</a>.</p>
<p>For example, custom integration with some scheduler framework will require installers to register tasks and guice module
to configure framework. GuiceyBundle will allow reduce integration to just one bundle installation.</p>
<div class="codehilite"><pre><span></span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">XLibIntegrationBundle</span> <span class="kd">implements</span> <span class="n">GuiceyBundle</span> <span class="o">{</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">initialize</span><span class="o">(</span><span class="kd">final</span> <span class="n">GuiceyBootstrap</span> <span class="n">bootstrap</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">bootstrap</span><span class="o">.</span><span class="na">installers</span><span class="o">(</span>
                <span class="n">XLibFeature1Installer</span><span class="o">.</span><span class="na">class</span><span class="o">,</span>
                <span class="n">XLibFeature2Installer</span><span class="o">.</span><span class="na">class</span><span class="o">,</span>                
        <span class="o">)</span>
        <span class="o">.</span><span class="na">modules</span><span class="o">(</span><span class="k">new</span> <span class="n">XLibGuiceModule</span><span class="o">());</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="n">bootstrap</span><span class="o">.</span><span class="na">addBundle</span><span class="o">(</span><span class="n">GuiceBundle</span><span class="o">.&lt;</span><span class="n">TestConfiguration</span><span class="o">&gt;</span><span class="n">builder</span><span class="o">()</span>
        <span class="o">.</span><span class="na">bundles</span><span class="o">(</span><span class="k">new</span> <span class="n">XLibIntegrationBundle</span><span class="o">())</span>
        <span class="o">.</span><span class="na">enableAutoConfig</span><span class="o">(</span><span class="s">&quot;package.to.scan&quot;</span><span class="o">)</span>
        <span class="o">.</span><span class="na">build</span><span class="o">()</span>
<span class="o">);</span>
</pre></div>

<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p><code>GuiceyBootstrap</code> object used not only for registration, but also provides access to
<code>Bootstrap</code>, <code>Configuration</code>, <code>ConfigurationTree</code>, <code>Environment</code> and <code>Options</code> objects.</p>
</div>
<p>Bundles may be used to group application features: e.g. ResourcesBundle, TasksBundle (for example, when auto-scan not enabled to decompose configuration).</p>
<p>Bundles are transitive - bundle can install other bundles. 
Duplicate bundles are detected using bundle type, so infinite configuration loops or duplicate configurations are not possible.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Be careful if bundle is parameterizable (requires constructor arguments). If two such bundles will be registered, only
first registration will be actually used and other instance ignored. Note that application configurations (using main GuiceBundle methods) 
performed before bundles processing and so bundle instance with correct parameters could be registered there.</p>
</div>
<p>Transitive bundles (or simply a lot of bundles) may cause confusion. Use <a href="../diagnostic/">diagnostic info</a> to see how guicey was actually configured.  </p>
<h2 id="predefined-bundles">Predefined bundles<a class="headerlink" href="#predefined-bundles" title="Permanent link">&para;</a></h2>
<p>Guicey ships with few predefined bundles.</p>
<h3 id="core-installers-bundle">Core installers bundle<a class="headerlink" href="#core-installers-bundle" title="Permanent link">&para;</a></h3>
<p>Default installers are grouped into <code>CoreInstallersBundle</code>. This bundle is always installed implicitly (so you always have default installers).
It may be disabled using <a href="../configuration/#disable-default-installers"><code>.noDefaultInstallers()</code></a>.</p>
<h3 id="web-installers-bundle">Web installers bundle<a class="headerlink" href="#web-installers-bundle" title="Permanent link">&para;</a></h3>
<p><code>WebInstallersBundle</code> provides installers for servlets, filters and listeners installation <a href="../web/#web-installers">using servlet api annotations</a>
(<code>@WebServlet</code>, <code>@WebFilter</code>, <code>@WebListener</code>). </p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Bundle is not installed by default to avoid confusion. May be enabled using <a href="../configuration/#web-installers"><code>.useWebInstallers()</code></a>. </p>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>If web installers used, then you may not need guice <code>ServletModule</code> support. To remove <code>GuiceFilter</code> registrations 
and <code>ServletModule</code> support use <a href="../web/#disable-servletmodule-support"><code>.noGuiceFilter()</code></a>.</p>
</div>
<h3 id="hk2-debug-bundle">HK2 debug bundle<a class="headerlink" href="#hk2-debug-bundle" title="Permanent link">&para;</a></h3>
<p><code>HK2DebugBundle</code> is special debug bundle to check that beans properly instantiated by guice or HK2 
(and no beans are instantiated by both).</p>
<p>Only beans installed by installers implementing <code>JerseyInstaller</code> (<code>ResourceInstaller</code>, <code>JerseyProviderInstaller</code>).
All beans must be created by guice and only beans annotated with <code>@HK2Managed</code> must be instantiated by HK2.</p>
<p>Bundle may be used in tests. For example using <code>guicey.bundles</code> property (see bundles lookup below).</p>
<p>May be enabled by <a href="../configuration/#diagnostic"><code>.strictScopeControl()</code></a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Works in both guice-first or <a href="../configuration/#use-hk2-for-jersey-extensions">HK2-first</a> modes.</p>
</div>
<h3 id="diagnostic-bundle">Diagnostic bundle<a class="headerlink" href="#diagnostic-bundle" title="Permanent link">&para;</a></h3>
<p>Bundle renders collected guicey <a href="../diagnostic/">diagnostic information</a>.</p>
<p>Output is highly configurable, use: <code>DiagnosticBundle.builder()</code> to configure reporting (if required).</p>
<p>Bundle may be registered with <a href="./#bundle-lookup">bundle lookup mechanism</a>. For example:</p>
<div class="codehilite"><pre><span></span><span class="n">PropertyBundleLookup</span><span class="o">.</span><span class="na">enableBundles</span><span class="o">(</span><span class="n">DiagnosticBundle</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
</pre></div>

<p>May be enabled by <code>.printDiagnosticInfo()</code> shortcut method.</p>
<p>Special shortcut <code>.printAvailableInstallers()</code> register diagnostic bundle configured for <a href="../diagnostic/#installers-mode">showing only installers</a>. Useful when you looking for available features.</p>
<div class="admonition attention">
<p>Only one bundle instance accepted, both options can't be enabled at the same time.</p>
</div>
<h2 id="dropwizard-bundles-unification">Dropwizard bundles unification<a class="headerlink" href="#dropwizard-bundles-unification" title="Permanent link">&para;</a></h2>
<p>Guicey bundles and dropwizard bundles may be unified providing single (standard) extension point for both 
dropwizard and guicey features:</p>
<div class="codehilite"><pre><span></span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">MixedBundle</span> <span class="kd">implements</span> <span class="n">ConfiguredBundle</span><span class="o">,</span> <span class="n">GuiceyBundle</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">initialize</span><span class="o">(</span><span class="n">Bootstrap</span><span class="o">&lt;?&gt;</span> <span class="n">bootstrap</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// do something in init phase</span>
    <span class="o">}</span>   

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">initialize</span><span class="o">(</span><span class="n">GuiceyBootstrap</span> <span class="n">bootstrap</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// apply guicey configurations</span>
    <span class="o">}</span> 

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">(</span><span class="n">T</span> <span class="n">configuration</span><span class="o">,</span> <span class="n">Environment</span> <span class="n">environment</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
        <span class="c1">// not needed because everything could be done in guicey bundle&#39;s method</span>
    <span class="o">}</span> 
<span class="o">}</span> 
</pre></div>

<p>Feature is disabled by default, to enable it use <code>.configureFromDropwizardBundles()</code> method.</p>
<div class="codehilite"><pre><span></span><span class="n">bootstrap</span><span class="o">.</span><span class="na">addBundle</span><span class="o">(</span><span class="k">new</span> <span class="n">MixedBundle</span><span class="o">());</span>
<span class="n">bootstrap</span><span class="o">.</span><span class="na">addBundle</span><span class="o">(</span><span class="n">GuiceBundle</span><span class="o">.</span><span class="na">builder</span><span class="o">()</span>
        <span class="o">.</span><span class="na">configureFromDropwizardBundles</span><span class="o">(</span><span class="kc">true</span><span class="o">)</span>
        <span class="o">.</span><span class="na">build</span><span class="o">()</span>
<span class="o">);</span>
</pre></div>

<p>When active, all registered dropwizard bundles are checked if they implement <code>GuiceyBundle</code>.
Works with both <code>Bundle</code> and <code>ConfiguredBundle</code> dropwizard bundle types. </p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Don't assume if guicey bundle's <code>initialize</code> method will be called before/after dropwizard bundle's <code>run</code> method. 
Both are possible (it depends if bundle registered before or after GuiceBundle).</p>
</div>
<h2 id="bundle-lookup">Bundle lookup<a class="headerlink" href="#bundle-lookup" title="Permanent link">&para;</a></h2>
<p>Bundle lookup mechanism used to lookup guicey bundles in various sources. It may be used to activate specific bundles
in tests (e.g. HK2DebugBundle) or to install 3<sup>rd</sup> party extensions from classpath.</p>
<p>Bundle lookup is equivalent to registering bundle directly using builder <code>bundles</code> method.</p>
<p>By default, 2 lookup mechanisms active. All found bundles are logged into console.
Duplicate bundles are removed (using bundle class to detect duplicate).</p>
<p>To disable default lookups use <code>disableBundleLookup</code>:</p>
<div class="codehilite"><pre><span></span><span class="n">bootstrap</span><span class="o">.</span><span class="na">addBundle</span><span class="o">(</span><span class="n">GuiceBundle</span><span class="o">.&lt;</span><span class="n">TestConfiguration</span><span class="o">&gt;</span><span class="n">builder</span><span class="o">()</span>
        <span class="o">.</span><span class="na">disableBundleLookup</span><span class="o">()</span>
        <span class="o">.</span><span class="na">build</span><span class="o">()</span>
</pre></div>

<h3 id="system-property-lookup">System property lookup<a class="headerlink" href="#system-property-lookup" title="Permanent link">&para;</a></h3>
<p>System property <code>guicey.bundles</code> could contain comma separated list of guicey bundle classes. These bundles 
must have no-args constructor.</p>
<p>For example, activate HK2 debug bundle for tests:</p>
<div class="codehilite"><pre><span></span>java ... -Dguicey.bundles=ru.vyarus.dropwizard.guice.module.jersey.debug.HK2DebugBundle
</pre></div>

<p>Alternatively, system property may be set in code:</p>
<div class="codehilite"><pre><span></span><span class="n">PropertyBundleLookup</span><span class="o">.</span><span class="na">enableBundles</span><span class="o">(</span><span class="n">HK2DebugBundle</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
</pre></div>

<h3 id="service-loader-lookup">Service loader lookup<a class="headerlink" href="#service-loader-lookup" title="Permanent link">&para;</a></h3>
<p>Using default java <a href="https://docs.oracle.com/javase/7/docs/api/java/util/ServiceLoader.html">ServiceLoader</a> 
mechanism, loads all GuiceyBundle services.</p>
<p>This is useful for automatically install 3<sup>rd</sup> party extensions (additional installers, extensions, guice modules).</p>
<p>3<sup>rd</sup> party jar must contain services file:</p>
<div class="codehilite"><pre><span></span>META-INF/services/ru.vyarus.dropwizard.guice.module.installer.bundle.GuiceyBundle
</pre></div>

<p>File contain one or more (per line) GuiceyBundle implementations. E.g.</p>
<div class="codehilite"><pre><span></span>com.foo.Bundle1
com.foo.Bundle2
</pre></div>

<p>Then Bundle1, Bundle2 would be loaded automatically on startup.</p>
<h3 id="customizing-lookup-mechanism">Customizing lookup mechanism<a class="headerlink" href="#customizing-lookup-mechanism" title="Permanent link">&para;</a></h3>
<p>Custom bundle lookup must implement <code>GuiceyBundleLookup</code> interface:</p>
<div class="codehilite"><pre><span></span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">CustomBundleLookup</span> <span class="kd">implements</span> <span class="n">GuiceyBundleLookup</span> <span class="o">{</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">GuiceyBundle</span><span class="o">&gt;</span> <span class="nf">lookup</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">List</span><span class="o">&lt;</span><span class="n">GuiceyBundle</span><span class="o">&gt;</span> <span class="n">bundles</span> <span class="o">=</span> <span class="n">Lists</span><span class="o">.</span><span class="na">newArrayList</span><span class="o">();</span>
        <span class="o">...</span>
        <span class="k">return</span> <span class="n">bundles</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>

<p>Custom lookup implementation may be registered through:</p>
<div class="codehilite"><pre><span></span><span class="n">bootstrap</span><span class="o">.</span><span class="na">addBundle</span><span class="o">(</span><span class="n">GuiceBundle</span><span class="o">.&lt;</span><span class="n">TestConfiguration</span><span class="o">&gt;</span><span class="n">builder</span><span class="o">()</span>
        <span class="o">.</span><span class="na">bundleLookup</span><span class="o">(</span><span class="k">new</span> <span class="n">CustomBundleLookup</span><span class="o">())</span>
        <span class="o">.</span><span class="na">build</span><span class="o">()</span>
</pre></div>

<p>But it's better to register it through default implementation <code>DefaultBundleLookup</code>, which performs composition 
of multiple lookup implementations and logs resolved bundles to console.</p>
<div class="codehilite"><pre><span></span><span class="n">bootstrap</span><span class="o">.</span><span class="na">addBundle</span><span class="o">(</span><span class="n">GuiceBundle</span><span class="o">.&lt;</span><span class="n">TestConfiguration</span><span class="o">&gt;</span><span class="n">builder</span><span class="o">()</span>
        <span class="o">.</span><span class="na">bundleLookup</span><span class="o">(</span><span class="k">new</span> <span class="n">DefaultBundleLookup</span><span class="o">().</span><span class="na">addLookup</span><span class="o">(</span><span class="k">new</span> <span class="n">CustomBundleLookup</span><span class="o">()))</span>
        <span class="o">.</span><span class="na">build</span><span class="o">()</span>
</pre></div>

<p>To override list of default lookups:</p>
<div class="codehilite"><pre><span></span><span class="n">bootstrap</span><span class="o">.</span><span class="na">addBundle</span><span class="o">(</span><span class="n">GuiceBundle</span><span class="o">.&lt;</span><span class="n">TestConfiguration</span><span class="o">&gt;</span><span class="n">builder</span><span class="o">()</span>
        <span class="o">.</span><span class="na">bundleLookup</span><span class="o">(</span><span class="k">new</span> <span class="n">DefaultBundleLookup</span><span class="o">(</span><span class="k">new</span> <span class="n">ServiceLoaderBundleLookup</span><span class="o">(),</span> <span class="k">new</span> <span class="n">CustomBundleLookup</span><span class="o">()))</span>
        <span class="o">.</span><span class="na">build</span><span class="o">()</span>
</pre></div>

<p>Here two lookup mechanisms registered (property lookup is not registered and will not be implicitly added).</p>
<h2 id="options">Options<a class="headerlink" href="#options" title="Permanent link">&para;</a></h2>
<p><a href="../options/">Options</a> could be used in guicey bundes:</p>
<div class="codehilite"><pre><span></span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">MyBundle</span> <span class="kd">implements</span> <span class="n">GuiceyBundle</span> <span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">initialize</span><span class="o">(</span><span class="n">GuiceyBootstrap</span> <span class="n">bootstrap</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">bootstrap</span><span class="o">.</span><span class="na">option</span><span class="o">(</span><span class="n">GuiceyOptions</span><span class="o">.</span><span class="na">UseHkBridge</span><span class="o">))</span> <span class="o">{</span>
            <span class="c1">// show warning that bridge required</span>
        <span class="o">}</span> 
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>

<p>Or it could be some <a href="../options/#custom-options">custom options</a> usage.</p>
<h2 id="apply-modifications">Apply modifications<a class="headerlink" href="#apply-modifications" title="Permanent link">&para;</a></h2>
<p>Bundles could not only register new items, but also disable other.</p>
<div class="codehilite"><pre><span></span><span class="n">bootstrap</span>
    <span class="o">.</span><span class="na">disableInstallers</span><span class="o">(..)</span>
    <span class="o">.</span><span class="na">disableExtensions</span><span class="o">(..)</span>
    <span class="o">.</span><span class="na">disableModules</span><span class="o">()</span>
</pre></div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Bundles can't disable other bundles (because target bundle could be already processed at this point).</p>
</div>
<p>This could be used to register different versions instead of disabled items.</p>
<p>Also, bundle could directly <a href="../configuration/#override-guice-bindings">override guice bindings</a> with:</p>
<div class="codehilite"><pre><span></span><span class="n">bootstrap</span>
    <span class="o">.</span><span class="na">modulesOverride</span><span class="o">(</span><span class="k">new</span> <span class="n">OverridingModule</span><span class="o">())</span>
</pre></div>

<h2 id="configuration-access">Configuration access<a class="headerlink" href="#configuration-access" title="Permanent link">&para;</a></h2>
<h3 id="unique-feature-config">Unique feature config<a class="headerlink" href="#unique-feature-config" title="Permanent link">&para;</a></h3>
<p>When working with re-usable bundles, it could be handy to rely on unique configuration 
object:</p>
<div class="codehilite"><pre><span></span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">XFeatureBundle</span> <span class="kd">implements</span> <span class="n">GuiceyBundle</span> <span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">initialize</span><span class="o">(</span><span class="n">GuiceyBootstrap</span> <span class="n">bootstrap</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">XFeatureConfig</span> <span class="n">conf</span> <span class="o">=</span> <span class="n">bootstrap</span><span class="o">.</span><span class="na">configuration</span><span class="o">(</span><span class="n">XFeatureConfig</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
        <span class="o">...</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>

<p>Note that this bundle doesn't known exact type of user configuration, it just 
assumes that XFeatureConfig is declared somewhere in configuration (on any level)
just once. For example:</p>
<div class="codehilite"><pre><span></span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">MyConfig</span> <span class="kd">extends</span> <span class="n">Configuration</span> <span class="o">{</span>

    <span class="nd">@JsonProperty</span>
    <span class="kd">private</span> <span class="n">XFeatureConfig</span> <span class="n">xfeature</span><span class="o">;</span>

    <span class="o">...</span>
<span class="o">}</span>
</pre></div>

<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Object uniqueness checked by exact type match, so if configuration also 
contains some extending class (<code>XFeatureConfigExt</code>) it will be different unique config. </p>
</div>
<h3 id="access-by-path">Access by path<a class="headerlink" href="#access-by-path" title="Permanent link">&para;</a></h3>
<p>When you are not sure that configuration is unique, you can rely on exact path definition:</p>
<div class="codehilite"><pre><span></span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">XFeatureBundle</span> <span class="kd">implements</span> <span class="n">GuiceyBundle</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="n">String</span> <span class="n">path</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">XFeatureBundle</span><span class="o">(</span><span class="n">String</span> <span class="n">path</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">path</span> <span class="o">=</span> <span class="n">path</span><span class="o">;</span>
    <span class="o">}</span> 

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">initialize</span><span class="o">(</span><span class="n">GuiceyBootstrap</span> <span class="n">bootstrap</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">XFeatureConfig</span> <span class="n">conf</span> <span class="o">=</span> <span class="n">bootstrap</span><span class="o">.</span><span class="na">configuration</span><span class="o">(</span><span class="n">path</span><span class="o">);</span>
        <span class="o">...</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>

<p>Path is declared by bundle user, who knows required configuration location:</p>
<div class="codehilite"><pre><span></span><span class="n">GuiceBundle</span><span class="o">.</span><span class="na">builder</span><span class="o">()</span>
    <span class="o">.</span><span class="na">bundles</span><span class="o">(</span><span class="k">new</span> <span class="n">XFeatureBundle</span><span class="o">(</span><span class="s">&quot;sub.feature&quot;</span><span class="o">))</span>
    <span class="o">...</span>
    <span class="o">.</span><span class="na">build</span><span class="o">()</span>
</pre></div>

<p>Where </p>
<div class="codehilite"><pre><span></span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">MyConfig</span> <span class="kd">extends</span> <span class="n">Configuration</span> <span class="o">{</span>

    <span class="nd">@JsonProperty</span>
    <span class="kd">private</span> <span class="n">SubConfig</span> <span class="n">sub</span> <span class="o">=</span> <span class="o">{</span> <span class="c1">// pseudo code to combine class declarations</span>
         <span class="nd">@JsonProperty</span>
         <span class="kd">private</span> <span class="n">XFeatureConfig</span> <span class="n">feature</span><span class="o">;</span>   
    <span class="o">}</span>

    <span class="o">...</span>
<span class="o">}</span>
</pre></div>

<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Remember that you can't register 2 bundles with the same class</p>
</div>
<h3 id="multiple-configs">Multiple configs<a class="headerlink" href="#multiple-configs" title="Permanent link">&para;</a></h3>
<p>In case, when multiple config objects could be declared in user configuration,
you can access all of them: </p>
<div class="codehilite"><pre><span></span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">XFeatureBundle</span> <span class="kd">implements</span> <span class="n">GuiceyBundle</span> <span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">initialize</span><span class="o">(</span><span class="n">GuiceyBootstrap</span> <span class="n">bootstrap</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">List</span><span class="o">&lt;</span><span class="n">XFeatureConfig</span><span class="o">&gt;</span> <span class="n">confs</span> <span class="o">=</span> <span class="n">configurations</span><span class="o">(</span><span class="n">XFeatureConfig</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
        <span class="o">...</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>

<p>For configuration</p>
<div class="codehilite"><pre><span></span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">MyConfig</span> <span class="kd">extends</span> <span class="n">Configuration</span> <span class="o">{</span>

    <span class="nd">@JsonProperty</span>
    <span class="kd">private</span> <span class="n">XFeatureConfig</span> <span class="n">xfeature</span><span class="o">;</span>
    <span class="nd">@JsonProperty</span>
    <span class="kd">private</span> <span class="n">XFeatureConfig</span> <span class="n">xfeature2</span><span class="o">;</span>

    <span class="o">...</span>
<span class="o">}</span>
</pre></div>

<p>It wil return both objects: <code>[xfeature, xfeature2]</code></p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>In contrast to unique configurations, this method returns all subclasses too.
So if there are <code>XFeatureConfigExt</code> declared somewhere it will also be returned.</p>
</div>
<h3 id="custom-configuration-analysis">Custom configuration analysis<a class="headerlink" href="#custom-configuration-analysis" title="Permanent link">&para;</a></h3>
<p>In all other cases (with more complex requirements) you can use <code>ConfigurationTree</code> object which
represents introspected configuration paths.  </p>
<div class="codehilite"><pre><span></span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">XFeatureBundle</span> <span class="kd">implements</span> <span class="n">GuiceyBundle</span> <span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">initialize</span><span class="o">(</span><span class="n">GuiceyBootstrap</span> <span class="n">bootstrap</span><span class="o">)</span> <span class="o">{</span>
         <span class="c1">// get all properties of custom configuration (ignoring properties from base classes)</span>
        <span class="n">List</span><span class="o">&lt;</span><span class="n">ConfigPath</span><span class="o">&gt;</span> <span class="n">paths</span> <span class="o">=</span> <span class="n">bootstrap</span><span class="o">.</span><span class="na">configurationTree</span><span class="o">()</span>
                <span class="o">.</span><span class="na">findAllRootPathsFrom</span><span class="o">(</span><span class="n">MyConfig</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>

        <span class="c1">// search for not null values of marked (annotated) classes            </span>
        <span class="n">List</span> <span class="n">markedTypes</span> <span class="o">=</span> <span class="n">paths</span><span class="o">.</span><span class="na">stream</span><span class="o">()</span>
            <span class="o">.</span><span class="na">filter</span><span class="o">(</span><span class="n">it</span> <span class="o">-&gt;</span> <span class="n">it</span><span class="o">.</span><span class="na">getValue</span><span class="o">()</span> <span class="o">!=</span> <span class="kc">null</span> 
                    <span class="o">&amp;&amp;</span> <span class="n">it</span><span class="o">.</span><span class="na">getType</span><span class="o">().</span><span class="na">getValueType</span><span class="o">().</span><span class="na">hasAnnotation</span><span class="o">(</span><span class="n">MyMarker</span><span class="o">.</span><span class="na">class</span><span class="o">))</span>
            <span class="o">.</span><span class="na">map</span><span class="o">(</span><span class="n">it</span> <span class="o">-&gt;</span> <span class="n">it</span><span class="o">.</span><span class="na">getValue</span><span class="o">())</span>
            <span class="o">.</span><span class="na">collect</span><span class="o">(</span><span class="n">Collectors</span><span class="o">.</span><span class="na">toList</span><span class="o">());</span>
        <span class="o">...</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>

<p>In this example, bundle search for properties declared directly in MyConfig configuration
class with not null value and annotated (classes annotated, not properties!) with custom marker (<code>@MyMarker</code>).  </p>
<p>See introspected configuration <a href="../bindings/#introspected-configuration">structure description</a></p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../ordering/" title="Ordering" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Ordering
              </span>
            </div>
          </a>
        
        
          <a href="../options/" title="Options" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Options
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2014-2018 Vyacheslav Rusakov
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
  <div class="md-footer-social">
    <link rel="stylesheet" href="../../assets/fonts/font-awesome.css">
    
      <a href="https://github.com/xvik" class="md-footer-social__link fa fa-github"></a>
    
      <a href="https://twitter.com/vyarus" class="md-footer-social__link fa fa-twitter"></a>
    
  </div>

      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.583bbe55.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
    
    
      
        <script>!function(e,a,t,n,o,c,i){e.GoogleAnalyticsObject=o,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,c=a.createElement(t),i=a.getElementsByTagName(t)[0],c.async=1,c.src="https://www.google-analytics.com/analytics.js",i.parentNode.insertBefore(c,i)}(window,document,"script",0,"ga"),ga("create","UA-93174150-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview");var links=document.getElementsByTagName("a");if(Array.prototype.map.call(links,function(e){e.host!=document.location.host&&e.addEventListener("click",function(){var a=e.getAttribute("data-md-action")||"follow";ga("send","event","outbound",a,e.href)})}),document.forms.search){var query=document.forms.search.query;query.addEventListener("blur",function(){if(this.value){var e=document.location.pathname;ga("send","pageview",e+"?q="+this.value)}})}</script>
      
    
  </body>
</html>